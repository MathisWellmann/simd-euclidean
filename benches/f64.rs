use criterion::*;
use rand::*;
use simd_euclidean::*;

fn bench_const(c: &mut Criterion) {
    c.bench_function("F64x4", |b: &mut Bencher| {
        b.iter(|| F64x4::distance(black_box(&XS), black_box(&YS)))
    });

    c.bench_function("F64x2", |b: &mut Bencher| {
        b.iter(|| F64x2::distance(black_box(&XS), black_box(&YS)))
    });

    c.bench_function("f64::naive", |b: &mut Bencher| {
        b.iter(|| Naive::distance(black_box(&XS) as &[f64], black_box(&YS)))
    });

    c.bench_function("f64::vectorized", |b: &mut Bencher| {
        b.iter(|| Vectorized::distance(black_box(&XS) as &[f64], black_box(&YS)))
    });
}

criterion_group!(benches, bench_const);
criterion_main!(benches);

pub const XS: [f64; 71] = [
    9.756120755038179,
    16.028054416847336,
    84.65028757038154,
    67.02596502461262,
    65.05147864515737,
    62.39826446148496,
    52.28419686225638,
    48.232062555532494,
    92.10907722196112,
    97.10286494110676,
    23.140802843648288,
    1.6282951879523333,
    99.3685067180223,
    41.78800590669031,
    90.88679084556725,
    42.301145657161484,
    16.20860809486778,
    85.8183665421172,
    61.88260921507192,
    14.979426039469523,
    72.8296950351039,
    15.61044473133839,
    25.171271193340615,
    91.08398954515961,
    48.73426353020033,
    1.7293175149798334,
    56.59874570929125,
    19.366092779310318,
    34.13977980310704,
    0.24038830650985332,
    7.930730942318142,
    60.84467122481876,
    33.63050101134656,
    32.59673838244142,
    20.611063879475743,
    37.307346130998056,
    2.335383690295567,
    62.020040216947734,
    19.41526110486941,
    81.5650570096741,
    31.070565912257507,
    34.60297357951495,
    31.905969045216175,
    14.062669171878428,
    66.22499229891262,
    99.56927975578543,
    57.98749048551354,
    72.72920136536773,
    72.76562654762864,
    84.61027104886219,
    63.078633871862124,
    3.433089530365663,
    38.657564153396564,
    83.3278535672609,
    22.805733167411933,
    58.79578950665842,
    1.2777507330810067,
    20.84916384746561,
    27.491235887666264,
    47.00359413917802,
    3.6617219150032576,
    62.959983708801225,
    76.75352335052736,
    15.372810503512369,
    96.23049332286162,
    10.179732786882411,
    69.48656022112178,
    16.43304349837418,
    70.28748916724437,
    85.89747515792969,
    44.299482090364876,
];
pub const YS: [f64; 71] = [
    94.7981927348354,
    4.916782459925518,
    51.43244021702136,
    63.60786325471144,
    63.72805256883729,
    91.20442890136792,
    8.485997871237483,
    84.94114726942237,
    78.19955451404276,
    47.749348564664686,
    67.07456628690286,
    51.45329712870716,
    70.02010479690868,
    63.327525233280554,
    41.984557646803246,
    53.62862508421855,
    38.82993233519119,
    74.22322896784807,
    52.49656863922719,
    6.086347556891725,
    60.43114793841068,
    16.03534797227555,
    27.732466906077093,
    56.78883477572615,
    43.76178295474761,
    72.18475276990671,
    17.127221312562625,
    35.096518460405626,
    72.33164042768256,
    45.42186350625981,
    47.970434895122324,
    99.88238557029587,
    72.19199043266752,
    58.837951049865175,
    33.76066709796031,
    61.258335062481315,
    38.54734875506588,
    0.9851581960338751,
    85.35050569500416,
    12.76289954215024,
    77.76160717630201,
    11.313686514782317,
    93.91637133579749,
    20.962770750122395,
    35.92471655549421,
    77.46861873538016,
    93.48669710284123,
    92.32133569122335,
    4.894063450209563,
    81.44021315707903,
    76.87136738156295,
    4.190472718958427,
    99.9878920623095,
    32.56100640216534,
    80.43713243847634,
    44.63660986581283,
    14.970214958755657,
    15.123545306512087,
    7.845662883281035,
    62.936290840455996,
    81.77164406711002,
    58.643995974249165,
    48.728104130012454,
    39.272836661135635,
    67.22234749012294,
    60.75140237955872,
    91.59700104053552,
    75.261014703054,
    34.12007752163804,
    49.054719159303396,
    70.48592676807802,
];
